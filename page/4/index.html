<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"","root":"/","scheme":"Gemini","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"appID":"DNTEG3O773","apiKey":"dbae86bf58ba49b0e9f250a3983ac7ff","indexName":"likaiailei","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="personal website">
<meta property="og:type" content="website">
<meta property="og:title" content="ac86&#39;s blog">
<meta property="og:url" content="/page/4/index.html">
<meta property="og:site_name" content="ac86&#39;s blog">
<meta property="og:description" content="personal website">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ac86&#39;s blog">
<meta name="twitter:description" content="personal website">

<link rel="canonical" href="/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false
  };
</script>

  <title>ac86's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ac86's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">---</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/acc8226" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="/html/hexo/2018/08/17/hexo搭建博客-上.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="leiTKai">
      <meta itemprop="description" content="personal website">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ac86's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/html/hexo/2018/08/17/hexo搭建博客-上.html" class="post-title-link" itemprop="url">Hexo搭建博客(上)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-08-17 21:45:25" itemprop="dateCreated datePublished" datetime="2018-08-17T21:45:25+08:00">2018-08-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 23:59:09" itemprop="dateModified" datetime="2020-03-04T23:59:09+08:00">2020-03-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>一直想搭建个人网站, 直到看到了这张图<br><img src="https://upload-images.jianshu.io/upload_images/1662509-8723e72fa7c1328a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h2 id="什么是-Hexo？"><a href="#什么是-Hexo？" class="headerlink" title="什么是 Hexo？"></a>什么是 Hexo？<a href="https://hexo.io/zh-cn/docs/#什么是-Hexo？" target="_blank" rel="noopener"></a></h2><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="http://daringfireball.net/projects/markdown/" target="_blank" rel="noopener">Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<h2 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h2><p>在安装前，您必须检查电脑中是否已安装下列应用程序：</p>
<ul>
<li><a href="http://nodejs.org/" target="_blank" rel="noopener">Node.js</a></li>
<li><a href="http://git-scm.com/" target="_blank" rel="noopener">Git</a></li>
</ul>
<p>如果您的电脑中已经安装上述必备程序，那么恭喜您！接下来只需要使用 npm 即可完成 Hexo 的安装。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure></p>
<h2 id="建立网站"><a href="#建立网站" class="headerlink" title="建立网站"></a>建立网站</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 新建一个网站。如果没有设置 folder ，Hexo 默认在目前的文件夹建立网站。</span><br><span class="line">$ hexo init &lt;folder&gt;  </span><br><span class="line">$ cd &lt;folder&gt;</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>您可以在 <code>_config.yml</code> 中修改大部份的配置。</p>
<h2 id="新建文章"><a href="#新建文章" class="headerlink" title="新建文章"></a>新建文章</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure>
<p>新建一篇文章。如果没有设置 <code>layout</code> 的话，默认使用 <a href="https://hexo.io/zh-cn/docs/configuration" target="_blank" rel="noopener">_config.yml</a> 中的 <code>default_layout</code> 参数代替。如果标题包含空格的话，请使用引号括起来。<br>示例<code>hexo new post hello --category mycategory</code></p>
<h2 id="生成静态文件"><a href="#生成静态文件" class="headerlink" title="生成静态文件"></a>生成静态文件</h2><p><code>generate</code> 该命令可以简写为<code>$ hexo g</code></p>
<ul>
<li>-d, –deploy    文件生成后立即部署网站</li>
<li>-w, –watch    监视文件变动</li>
</ul>
<h2 id="启动服务器"><a href="#启动服务器" class="headerlink" title="启动服务器"></a>启动服务器</h2><p><code>server</code>该命令可以简写为<code>$ hexo s</code><br>启动服务器。默认情况下，访问网址为： <a href="http://localhost:4000/。" target="_blank" rel="noopener">http://localhost:4000/。</a></p>
<ul>
<li>-p, –port    重设端口</li>
<li>-s, –static    只使用静态文件</li>
<li>-l, –log    启动日记记录，使用覆盖记录格式</li>
</ul>
<h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p><code>deploy</code> 该命令可以简写为<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo d</span><br></pre></td></tr></table></figure></p>
<ul>
<li>-g, –generate    部署之前预先生成静态文件</li>
</ul>
<h2 id="clean"><a href="#clean" class="headerlink" title="clean"></a>clean</h2><ul>
<li>清除缓存文件 (<code>db.json</code>) 和已生成的静态文件 (<code>public</code>)。</li>
<li>在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。</li>
</ul>
<h2 id="list"><a href="#list" class="headerlink" title="list"></a>list</h2><p>列出网站资料。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ hexo list</span><br><span class="line">Usage: hexo list &lt;<span class="built_in">type</span>&gt;</span><br><span class="line"></span><br><span class="line">Description:</span><br><span class="line">List the information of the site.</span><br><span class="line"></span><br><span class="line">Arguments:</span><br><span class="line">  <span class="built_in">type</span>  Available types: page, post, route, tag, category</span><br></pre></td></tr></table></figure></p>
<h2 id="写作"><a href="#写作" class="headerlink" title="写作"></a>写作</h2><p>你可以执行下列命令来创建一篇新文章。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure></p>
<p>您可以在命令中指定文章的布局（layout），默认为 post，可以通过修改 _config.yml 中的 default_layout 参数来指定默认布局。</p>
<h3 id="布局（Layout）"><a href="#布局（Layout）" class="headerlink" title="布局（Layout）"></a>布局（Layout）</h3><p>Hexo 有三种默认布局：<code>post</code>、<code>page</code> 和 <code>draft</code>，它们分别对应不同的路径，而您自定义的其他布局和 <code>post</code> 相同，都将储存到 <code>source/_posts</code> 文件夹。</p>
<h3 id="文件名称"><a href="#文件名称" class="headerlink" title="文件名称"></a>文件名称</h3><p>Hexo 默认以标题做为文件名称，但您可编辑 <code>new_post_name</code> 参数来改变默认的文件名称，举例来说，设为 <code>:year-:month-:day-:title.md</code> 可让您更方便的通过日期来管理文章。</p>
<h2 id="front-matter"><a href="#front-matter" class="headerlink" title="front-matter"></a>front-matter</h2><p>Front-matter 是文件最上方以 <code>---</code> 分隔的区域，用于指定个别文件的变量，举例来说：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">Hello</span> <span class="string">World</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2013</span><span class="string">/7/13</span> <span class="number">20</span><span class="string">:46:25</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></p>
<p>以下是预先定义的参数，您可在模板中使用这些参数值并加以利用。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>layout</code></td>
<td>布局</td>
<td></td>
</tr>
<tr>
<td><code>title</code></td>
<td>标题</td>
<td></td>
</tr>
<tr>
<td><code>date</code></td>
<td>建立日期</td>
<td>文件建立日期</td>
</tr>
<tr>
<td><code>updated</code></td>
<td>更新日期</td>
<td>文件更新日期</td>
</tr>
<tr>
<td><code>comments</code></td>
<td>开启文章的评论功能</td>
<td>true</td>
</tr>
<tr>
<td><code>tags</code></td>
<td>标签（不适用于分页）</td>
<td></td>
</tr>
<tr>
<td><code>categories</code></td>
<td>分类（不适用于分页）</td>
<td></td>
</tr>
<tr>
<td><code>permalink</code></td>
<td>覆盖文章网址</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="完结啦"><a href="#完结啦" class="headerlink" title="完结啦^_^"></a>完结啦^_^</h2><p>到此基本的搭建和基础部分就说完了,  我将自己的主页挂载到了码云。<br>有空可一逛 <a href="https://kailee.gitee.io/" target="_blank" rel="noopener"><strong>leiTKai’s blog</strong></a> ，<br>更加完整的教程可以参照<a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo官网</a>实践。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="/html/测试/2018/08/16/测试标签插件（tag-plugins）.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="leiTKai">
      <meta itemprop="description" content="personal website">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ac86's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/html/测试/2018/08/16/测试标签插件（tag-plugins）.html" class="post-title-link" itemprop="url">测试标签插件（Tag Plugins）</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-08-16 21:28:40" itemprop="dateCreated datePublished" datetime="2018-08-16T21:28:40+08:00">2018-08-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 23:59:09" itemprop="dateModified" datetime="2020-03-04T23:59:09+08:00">2020-03-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/测试/" itemprop="url" rel="index"><span itemprop="name">测试</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="引用块"><a href="#引用块" class="headerlink" title="引用块"></a>引用块</h2><p>在文章中插入引言，可包含作者、来源和标题。<br>别号： quote<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% blockquote [author[, source]] [link] [source_link_title] %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endblockquote %&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h3><h4 id="没有提供参数，则只输出普通的-blockquote"><a href="#没有提供参数，则只输出普通的-blockquote" class="headerlink" title="没有提供参数，则只输出普通的 blockquote"></a>没有提供参数，则只输出普通的 blockquote</h4><blockquote><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque hendrerit lacus ut purus iaculis feugiat. Sed nec tempor elit, quis aliquam neque. Curabitur sed diam eget dolor fermentum semper at eu lorem.</p>
</blockquote>
<h4 id="引用网络上的文章"><a href="#引用网络上的文章" class="headerlink" title="引用网络上的文章"></a>引用网络上的文章</h4><blockquote><p>Every interaction is both precious and an opportunity to delight.</p>
<footer><strong>Seth Godin</strong><cite><a href="http://sethgodin.typepad.com/seths_blog/2009/07/welcome-to-island-marketing.html" target="_blank" rel="noopener">Welcome to Island Marketing</a></cite></footer></blockquote>
<h2 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h2><p>在文章中插入代码。<br><strong>别名</strong>： code<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% codeblock [title] [lang:language] [url] [link text] %&#125;</span><br><span class="line">code snippet</span><br><span class="line">&#123;% endcodeblock %&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="样例-1"><a href="#样例-1" class="headerlink" title="样例"></a>样例</h3><h4 id="普通代码块"><a href="#普通代码块" class="headerlink" title="普通代码块"></a>普通代码块</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(&apos;Hello World!&apos;);</span><br></pre></td></tr></table></figure>
<h4 id="指定语言"><a href="#指定语言" class="headerlink" title="指定语言"></a>指定语言</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[rectangle setX: <span class="number">10</span> y: <span class="number">10</span> width: <span class="number">20</span> height: <span class="number">20</span>];</span><br></pre></td></tr></table></figure>
<h4 id="附加说明和网址"><a href="#附加说明和网址" class="headerlink" title="附加说明和网址"></a>附加说明和网址</h4><figure class="highlight plain"><figcaption><span>_.compact</span><a href="http://underscorejs.org/#compact" target="_blank" rel="noopener">Underscore.js</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_.compact([0, 1, false, 2, &apos;&apos;, 3]);</span><br><span class="line">=&gt; [1, 2, 3]</span><br></pre></td></tr></table></figure>
<h2 id="反引号代码块"><a href="#反引号代码块" class="headerlink" title="反引号代码块"></a>反引号代码块</h2><p>另一种形式的代码块，不同的是它使用三个反引号来包裹。</p>
<h2 id="iframe"><a href="#iframe" class="headerlink" title="iframe"></a>iframe</h2><p>在文章中插入 iframe。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% iframe url [width] [height] %&#125;</span><br></pre></td></tr></table></figure></p>
<iframe src="//music.163.com/outchain/player?type=2&id=26429009&auto=1&height=66" width="300" height="86" frameborder="0" allowfullscreen></iframe>
<h2 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h2><p>在文章中插入链接，并自动给外部链接添加 target=”_blank” 属性。<br><a href="https://www.ithome.com/" target="_blank" rel="noopener">ITHome</a></p>
<h2 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h2><p>在文章中插入指定大小的图片。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% img [class names] /path/to/image [width] [height] [title text [alt text]] %&#125;</span><br></pre></td></tr></table></figure></p>
<img src="/images/girl.jpg" title="girl">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="/html/kotlin/2018/08/12/03-kotlin数据类型.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="leiTKai">
      <meta itemprop="description" content="personal website">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ac86's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/html/kotlin/2018/08/12/03-kotlin数据类型.html" class="post-title-link" itemprop="url">03. Kotlin数据类型</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-08-12 22:58:59" itemprop="dateCreated datePublished" datetime="2018-08-12T22:58:59+08:00">2018-08-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 23:59:09" itemprop="dateModified" datetime="2020-03-04T23:59:09+08:00">2020-03-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/kotlin/" itemprop="url" rel="index"><span itemprop="name">kotlin</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://upload-images.jianshu.io/upload_images/1662509-58dce43e3f3ed7d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Java中八大基本数据类型"></p>
<h2 id="Kotlin基本数据类型"><a href="#Kotlin基本数据类型" class="headerlink" title="Kotlin基本数据类型"></a>Kotlin基本数据类型</h2><p><img src="https://upload-images.jianshu.io/upload_images/1662509-f8a1645f6775371d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>Kotlin的8个基本数据类型没有对应的包装类，Kotlin编译器会根据不同的场景将其编译成为Java中的基本类型数据还是包装类对象。例如，Kotlin的Int用来声明变量、常量、属性、函数参数类型和函数返回类型等情况时，被编译为Java的int类型；当作为集合泛型类似参数时，则被编译为Java的java.lang.Integer，这是因为Java集合中只能保存对象，不能是基本数据类型。Kotlin编译器如此设计是因为基本类型数据能占用更少的内存，运行时效率更高。</p>
<blockquote>
<p><strong>Java程序员注意</strong>　在Java中表示long类型整数时可以在数字后面加小写英文字母l，但由于可读性不好，容易被误认为是阿拉伯数字1，所以在Kotlin中部不允许这样表示。</p>
</blockquote>
<p>在使用整数变量赋值，还可以使用二进制和十六进制表示，但不支持八进制，它们的表示方式分别如下：</p>
<ul>
<li>二进制数：以 0b 或0B为前缀，注意0是阿拉伯数字，不要误认为是英文字母o。</li>
<li>十六进制数：以 0x 或0X为前缀，注意0是阿拉伯数字。</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明整数变量</span></span><br><span class="line"><span class="comment">// 输出一个默认整数常量为 Int</span></span><br><span class="line">println(<span class="string">"默认整数常量 =  "</span> + <span class="number">16</span>)     </span><br><span class="line"><span class="keyword">val</span> a: <span class="built_in">Byte</span> = <span class="number">16</span>         </span><br><span class="line"><span class="keyword">val</span> b: <span class="built_in">Short</span> = <span class="number">16</span>    </span><br><span class="line"><span class="keyword">val</span> c = <span class="number">16</span>           </span><br><span class="line"><span class="keyword">val</span> d = <span class="number">16</span>L          </span><br><span class="line"></span><br><span class="line">println(<span class="string">"Byte整数     =  "</span> + a)</span><br><span class="line">println(<span class="string">"Short整数    =  "</span> + b)</span><br><span class="line">println(<span class="string">"Int整数      =  "</span> + c)</span><br><span class="line">println(<span class="string">"Long整数     =  "</span> + d)</span><br><span class="line"></span><br><span class="line"><span class="comment">//数字常量添加下划线，增强可读性</span></span><br><span class="line"><span class="keyword">val</span> e = <span class="number">160</span>_000_000L       <span class="comment">//表示160000000数字</span></span><br><span class="line">println(<span class="string">"数字常量添加下划线   =  "</span> + e)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> decimalInt = <span class="number">28</span>         <span class="comment">//十进制表示</span></span><br><span class="line"><span class="keyword">val</span> binaryInt1 = <span class="number">0</span>b11100    <span class="comment">//二进制表示</span></span><br><span class="line"><span class="keyword">val</span> binaryInt2 = <span class="number">0</span>B11100    <span class="comment">//二进制表示</span></span><br><span class="line"><span class="keyword">val</span> hexadecimalInt1 = <span class="number">0x1C</span>    <span class="comment">//十六进制表示</span></span><br><span class="line"><span class="keyword">val</span> hexadecimalInt2 = <span class="number">0X1C</span>    <span class="comment">//十六进制表示</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明浮点数</span></span><br><span class="line"><span class="comment">// 输出一个默认浮点常量为 Double</span></span><br><span class="line">println(<span class="string">"默认浮点常量    =  "</span> + <span class="number">360.66</span>)   </span><br><span class="line"><span class="keyword">val</span> myMoney = <span class="number">360.66</span>f  </span><br><span class="line"><span class="keyword">val</span> yourMoney = <span class="number">360.66</span> </span><br><span class="line"></span><br><span class="line">println(<span class="string">"Float浮点数  =  "</span> + myMoney)</span><br><span class="line">println(<span class="string">"Double浮点数 =  "</span> + yourMoney)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在Kotlin语言中声明布尔类型的关键字是Boolean，它只有两个值：true和false。</span></span><br><span class="line"><span class="keyword">val</span> isMan = <span class="literal">true</span></span><br><span class="line"><span class="keyword">val</span> isWoman = <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h2 id="字符类型"><a href="#字符类型" class="headerlink" title="字符类型"></a>字符类型</h2><p>和Java一样, 字符类型表示单个字符，Kotlin中Char声明字符类型，Kotlin中的字符常量必须用单引号括起来的单个字符。</p>
<p>Kotlin字符采用双字节Unicode编码，占<strong>两个字节（16位）</strong>，因而可用十六进制（无符号的）编码形式表示，它们的表现形式是<code>\uXXXX</code>，其中<code>XXXX</code>为16位十六进制数，所以’A’字符也可以用Unicode编码’\u0041’表示，如果对字符编码感兴趣可以到维基百科（<a href="https://zh.wikipedia.org/wiki/Unicode" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/Unicode</a>字符列表）查询。</p>
<h2 id="转义字符-和java一致"><a href="#转义字符-和java一致" class="headerlink" title="转义字符(和java一致)"></a>转义字符(和java一致)</h2><p><img src="https://upload-images.jianshu.io/upload_images/1662509-bb5c986ace88236d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="常用转义符"></p>
<h2 id="数值类型之间的转换"><a href="#数值类型之间的转换" class="headerlink" title="数值类型之间的转换"></a>数值类型之间的转换</h2><p>学习了前面的数据类型后，大家会思考一个问题，数据类型之间是否可以转换呢？数据类型的转换情况比较复杂。在基本数据类型中数值类型之间可以互相转换，字符类型和布尔类型不能与它们之间进行转换。<br>本节讨论数值类型之间互相转换，<strong>数值</strong>在进行赋值时采用的是<strong>显示转换</strong>，而在<strong>数学计算</strong>时采用的是<strong>隐式转换</strong>。</p>
<h3 id="赋值与显式转换"><a href="#赋值与显式转换" class="headerlink" title="赋值与显式转换"></a>赋值与显式转换</h3><p>Kotlin是一种安全的语言，对于类型的检查非常严格，不同类型数值进行赋值是禁止的. Kotlin中要想实现这种赋值转换，需要使用转换函数显式转换。Kotlin的6种数值类型（Byte、Short、Int、Long、Float和Double），以及Char类型都有如下7个转换函数：</p>
<ul>
<li>toByte(): Byte</li>
<li>toShort(): Short</li>
<li>toInt(): Int</li>
<li>toLong(): Long</li>
<li>toFloat(): Float</li>
<li>toDouble(): Double</li>
<li>toChar(): Char</li>
</ul>
<h3 id="数学计算与隐式转换"><a href="#数学计算与隐式转换" class="headerlink" title="数学计算与隐式转换"></a>数学计算与隐式转换</h3><p>多个数值类型数据可以数学计算，由于参与进行数学计算的数值类型可能不同，编译器会根据上下文环境进行隐式转换。</p>
<h2 id="可空类型"><a href="#可空类型" class="headerlink" title="可空类型"></a>可空类型</h2><p>Kotlin语言与Swift语言类似，默认情况下所有的数据类型都是非空类型（Non-Null），声明的变量都是不能接收空值（null）的。这一点与Java和Objective-C等语言有很大的不同。</p>
<h3 id="可空类型概念"><a href="#可空类型概念" class="headerlink" title="可空类型概念"></a>可空类型概念</h3><p>Kotlin的非空类型设计能够有些防止空指针异常（NullPointerException）。在Kotlin中可以将一个对象的声明为非空类型，那么它就永远不会接收空值，否则会发生编译错误。示例代码如下：<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n: <span class="built_in">Int</span> = <span class="number">10</span></span><br><span class="line">n = <span class="literal">null</span>      <span class="comment">//发生编译错误</span></span><br></pre></td></tr></table></figure></p>
<p>Kotlin为每一种非空类型提供对应的可空类型（Nullable），就是在非空类型后面加上问号（?）表示可空类型。<br><code>var n: Int? = 10</code></p>
<p>Int?是可空类型，它所声明的变量n可以接收空值。可空类型在具体使用时会有一些限制：</p>
<ul>
<li>不能直接调用可空类型对象的函数或属性。</li>
<li>不能把可空类型数据赋值给非空类型变量。</li>
<li>不能把可空类型数据传递给非空类型参数的函数。</li>
</ul>
<p>为了“突破”这些限制，Kotlin提供了如下运算符：</p>
<ul>
<li>安全调用运算符：?.</li>
<li>安全转换运算符：as?</li>
<li>Elvis运算符：?:</li>
<li>非空断言：!!</li>
</ul>
<h3 id="使用安全调用运算符（-）"><a href="#使用安全调用运算符（-）" class="headerlink" title="使用安全调用运算符（?.）"></a>使用安全调用运算符（?.）</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">	<span class="keyword">val</span> divNumber1 = divide(<span class="number">100</span>, <span class="number">0</span>)    </span><br><span class="line">	<span class="keyword">val</span> result1 = divNumber1?.plus(<span class="number">100</span>)<span class="comment">//divNumber1+100，结果null </span></span><br><span class="line">	println(result1)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">val</span> divNumber2 = divide(<span class="number">100</span>, <span class="number">10</span>)   </span><br><span class="line">	<span class="keyword">val</span> result2 = divNumber2?.plus(<span class="number">100</span>)<span class="comment">//divNumber2+100，结果110.0    </span></span><br><span class="line">	println(result2)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; Output:</span><br><span class="line">&gt;&gt;&gt; <span class="literal">null</span></span><br><span class="line">&gt;&gt;&gt; <span class="number">110.0</span></span><br></pre></td></tr></table></figure>
<p>上述代码自定义了divide函数进行除法运算，当参数n2为0的情况下，函数返回空值，所以函数返回类型必须是Double的可空类型，即Double?。</p>
<h3 id="非空断言运算符（-）"><a href="#非空断言运算符（-）" class="headerlink" title="非空断言运算符（!!）"></a>非空断言运算符（!!）</h3><p>可空类型变量可以使用非空断言运算符（!!）调用非空类型的函数或属性。非空断言运算符（!!）顾名思义就是断言可空类型变量不会为空，调用过程是存在风险的，如果可空类型变量真的为空，则会抛出空指针异常；如果非则可以正常调用函数或属性。<br>修改代码如下：<br><code>val result1 = divNumber1!!.plus(100)//divNumber1+100，结果110.0</code></p>
<h3 id="使用Elvis运算符（-）"><a href="#使用Elvis运算符（-）" class="headerlink" title="使用Elvis运算符（?:）"></a>使用Elvis运算符（?:）</h3><p>有的时候在可空类型表达式中，当表达式为空值时，并不希望返回默认的空值，而是其他数值。此时可以使用Elvis运算符（?:），也称为空值合并运算符，Elvis运算符有两个操作数，假设有表达式：A ?: B，如果A不为空值则结果为A；否则结果为B。</p>
<p>Elvis运算符经常与安全调用运算符结合使用，重写上一节示例代码如下：<br><code>val result1 = divNumber1?.plus(100) ?: 0//divNumber1+100，结果0</code></p>
<blockquote>
<p><strong>Elvis运算符由来</strong>　Elvis一词是指美国摇滚歌手埃尔维斯·普雷斯利（Elvis Presley），绰号“猫王”。由于他的头型和眼睛很有特点，不用过多解释，从图6-3可见为什么?:叫做Elvis了。<br><img src="https://upload-images.jianshu.io/upload_images/1662509-78ed35e28f840dcf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
</blockquote>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://www.ituring.com.cn/book/tupubarticle/19721" target="_blank" rel="noopener">第 6 章　数据类型-图灵社区</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="/html/kotlin/2018/08/12/02-第一段kotlin代码.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="leiTKai">
      <meta itemprop="description" content="personal website">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ac86's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/html/kotlin/2018/08/12/02-第一段kotlin代码.html" class="post-title-link" itemprop="url">02. 第一段Kotlin代码</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-08-12 18:22:07" itemprop="dateCreated datePublished" datetime="2018-08-12T18:22:07+08:00">2018-08-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 23:59:09" itemprop="dateModified" datetime="2020-03-04T23:59:09+08:00">2020-03-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/kotlin/" itemprop="url" rel="index"><span itemprop="name">kotlin</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>编写和运行Kotlin程序有多种方式，总的来说可以分为：</p>
<ol>
<li>交互式方式运行</li>
<li>编译为字节码文件方式运行</li>
</ol>
<h2 id="使用REPL"><a href="#使用REPL" class="headerlink" title="使用REPL"></a>使用REPL</h2><p>REPL是英文Read-Eval-Print Loop缩写，直译为“读取-求值-输出”，它指代一种简单的交互式运行编程环境。REPL对于学习一门新的编程语言具有很大的帮助，因为它能立刻对初学者做出回应。许多编程语言可以使用REPL研究算法以及进行调试。</p>
<p>启动REPL可以通过Kotlin编译器提供的kotlinc命令或IntelliJ IDEA工具中选择Tools→Kotlin→Kotlin REPL菜单。打开命令提示行输入kotlinc命令，如图3-1所示启动REPL，Kotlin REPL提供一些前面带有冒号（:）的管理指令，例如“:quit”指令是退出REPL，“:help”指令是帮助。</p>
<h2 id="Kotlin标识符"><a href="#Kotlin标识符" class="headerlink" title="Kotlin标识符"></a>Kotlin标识符</h2><p>标识符就是变量、常量、函数、属性、类、接口和扩展等由程序员指定的名字。构成标识符的字符均有一定的规范，Kotlin语言中标识符的命名规则如下：</p>
<ul>
<li>区分大小写：Myname与myname是两个不同的标识符。</li>
<li>首字符，可以是下划线（_）或字母，但不能是数字。</li>
<li>除首字符外其他字符，可以是下划线（_）、字母和数字。</li>
<li>硬关键字（Hard Keywords）不能作为标识符，软关键字（Soft Keywords）、修饰符关键字（Modifier Keywords）在它们的适用场景之外可以作为标识符使用。</li>
<li>特定标识符field和it。在Kotlin语言中有两个由编译器定义的特定标识符，它们只能在特定场景中使用有特定的作用，而在其他的场景中可以做标识符使用。</li>
</ul>
<h2 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h2><p>关键字是类似于标识符的保留字符序列，由语言本身定义好的，Kotlin语言中有70多个关键字，全部是小写英文字母，以及!和?等字符构成。分为3个大类：</p>
<ol>
<li>硬关键字（Hard Keywords），硬关键字如何情况下都不能作为关键字，具体包括如下关键字。<br>as、as?、break、class、continue、do、else、false、for、fun、if、in、!in、interface、is、!is、null、object、package、return、super、this、throw、true、try、typealias、val、var、when和while。</li>
<li>软关键字（Soft Keywords），软关键字是在它适用场景中不能作为标识符，而其他场景中可以作为标识符，具体包括如下关键字。<br>by、catch、constructor、delegate、dynamic、field、file、finally、get、import、init、param、property、receiver、set、setparam和where。</li>
<li>修饰符关键字（Modifier Keywords），修饰符关键字是一种特殊的软关键字，它们用来修饰函数、类、接口、参数和属性等内容，在此场景中不能作为标识符。而其他场景中可以作为标识符，具体包括如下关键字。<br>abstract、annotation、companion、const、crossinline、data、enum、external、final、infix、inner、internal、lateinit、noinline、open、operator、out、override、private、protected、public、reified、sealed、suspend、tailrec和vararg。</li>
</ol>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>在Kotlin中声明变量，就是在标识符的前面加上关键字var<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> y = <span class="number">20</span>         </span><br><span class="line"><span class="comment">// 声明变量的同时指定数据类型是Float</span></span><br><span class="line"><span class="keyword">var</span> scoreForStudent: <span class="built_in">Float</span> = <span class="number">0.0</span>f</span><br></pre></td></tr></table></figure></p>
<h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>常量一旦初始化后就不能再被修改。在Kotlin声明常量是在标识符的前面加上val或const val关键字，它们的区别如下。</p>
<ul>
<li>val声明的是运行期常量，常量是在运行时初始化的。</li>
<li>const val声明的是编译期常量，常量是在编译时初始化，只能用于顶层常量声明或声明对象中的常量声明，而且只能是<strong>String</strong>或<strong>基本数据类型</strong>（整数、浮点等）</li>
</ul>
<h2 id="使用var还是val？"><a href="#使用var还是val？" class="headerlink" title="使用var还是val？"></a>使用var还是val？</h2><blockquote>
<p><strong>原则</strong>　如果两种方式都能满足需求情况下，原则上优先考虑使用val声明。因为一方面val声明的变量是只读，一旦初始化后不能修改，这可以避免程序运行过程中错误地修改变量内容；另一方面在声明引用类型使用val，对象的引用不会被修改，但是引用内容可以修改，这样会更加安全，也符合函数式编程的技术要求。</p>
</blockquote>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><p>Kotlin程序有3类注释：单行注释（//）、多行注释（/<em>…</em>/）和文档注释（/*<em>…</em>/）。注释方法与Java语言都类似</p>
<h2 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h2><p>语句关注的代码执行过程，如for、while和do-while等。在Kotlin语言中，一条语句结束后可以不加分号，也可以加分号，但是有一种情况必须加分号，那就是多条语句写在一行的时候，需要通过分号来区别语句(但最后一句可以不加)：<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a1: <span class="built_in">Int</span> = <span class="number">10</span>; <span class="keyword">var</span> a2: <span class="built_in">Int</span> = <span class="number">20</span>;</span><br></pre></td></tr></table></figure></p>
<h2 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h2><p>为了使代码更加简洁Kotlin将Java中一些语句进行简化，使之成为一种表达式，这些表达式包括：控制结构表达式、try表达式、表达式函数体和对象表达式。示例代码如下：<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 表达式函数体, a + b表达式没有放到一对大括号中</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sum</span><span class="params">(a: <span class="type">Int</span>, b: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> = a + b</span><br><span class="line"></span><br><span class="line"><span class="comment">// 与C++语言中的main函数类似，都不属于任何的类，称为顶层函数（top-level function）</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">	<span class="keyword">val</span> englishScore = <span class="number">99</span></span><br><span class="line">	<span class="keyword">val</span> chineseScore = <span class="number">82</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//if控制结构表达式</span></span><br><span class="line">	<span class="keyword">val</span> result = <span class="keyword">if</span> (englishScore &lt; <span class="number">60</span>) <span class="string">"不及格"</span> <span class="keyword">else</span> <span class="string">"及格"</span></span><br><span class="line">	println(result)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 调用sum函数</span></span><br><span class="line">	<span class="keyword">val</span> totalScore = sum(englishScore, chineseScore)</span><br><span class="line">	println(totalScore)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//try表达式</span></span><br><span class="line">	<span class="keyword">val</span> score = <span class="keyword">try</span> &#123;</span><br><span class="line">	&#125; <span class="keyword">catch</span> (e: Exception) &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	println(score)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="包"><a href="#包" class="headerlink" title="包"></a>包</h2><p>在Kotlin与Java一样为了防止类、接口、枚举、注释和函数等内容命名冲突引用了包（package）概念，包本质上命名空间（namespace）2。在包中可以定义一组相关的内容（类、接口、枚举、注释和函数），并为它们提供访问保护和命名空间管理。</p>
<h2 id="说说怎么断行"><a href="#说说怎么断行" class="headerlink" title="说说怎么断行"></a>说说怎么断行</h2><p>一行代码的长度应尽量不要超过80个字符，如果超过则需断行，可以依据下面的一般规范断开：</p>
<ul>
<li>在一个逗号后面断开。一个运算符前面断开，要选择较高级别的运算符（而非较低级别的运算符）断开。</li>
</ul>
<p>下面通过一些示例说明：<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">longName1 = longName2 * (longName3 + longName4 - longName5)</span><br><span class="line">        + <span class="number">4</span> * longName6  <span class="comment">// ①</span></span><br><span class="line">longName1 = longName2 * (longName3 + longName4</span><br><span class="line">        - longName5) + <span class="number">4</span> * longName6  <span class="comment">//②</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">format</span><span class="params">(obj: <span class="type">Any</span>, toAppendTo: <span class="type">StringBuffer</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                    fieldPosition: <span class="type">FieldPosition</span>)</span></span>: StringBuffer &#123; <span class="comment">//③</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ((longName1 == longName2)</span><br><span class="line">         || (longName3 == longName4) &amp;&amp; (longName3 &gt; longName4)</span><br><span class="line">         &amp;&amp; (longName2 &gt; longName5)) &#123;  <span class="comment">//④</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ol>
<li>上述代码第①行和第②行是带有小括号运算的表示式，其中代码第①行的断开位置要比第②行的断开位置要好。因为代码第①行断开处位于括号表达式的外边，这是个较高级别的断开。</li>
<li>代码第③行函数名断开是在参数逗号之后。</li>
<li>代码第④行是if等判断结构表达式中，由于可能有很多长的条件表达式，断开的位置应在逻辑运算符处。</li>
</ol>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://www.ituring.com.cn/book/tupubarticle/19718" target="_blank" rel="noopener">第 3 章　第一个Kotlin程序-图灵社区</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="/html/kotlin/2018/08/12/01-kotlin开篇综述.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="leiTKai">
      <meta itemprop="description" content="personal website">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ac86's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/html/kotlin/2018/08/12/01-kotlin开篇综述.html" class="post-title-link" itemprop="url">01. Kotlin开篇综述</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-08-12 17:23:31" itemprop="dateCreated datePublished" datetime="2018-08-12T17:23:31+08:00">2018-08-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 23:59:09" itemprop="dateModified" datetime="2020-03-04T23:59:09+08:00">2020-03-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/kotlin/" itemprop="url" rel="index"><span itemprop="name">kotlin</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li><p>Kotlin对函数式编程的支持<br>函数式编程并不能完全取代面向对象编程，函数式编程<strong>擅长数据处理</strong>，如核心业务逻辑、算法实现等；而面向对象擅长构建UI界面编程、搭建系统架构等。</p>
</li>
<li><p>异常处理的理念<br>Java把异常分为受检查异常和运行期异常，编译器强制要求受检查异常必须捕获或抛出。事实上经过多年的实践，开发者发现即便是捕获了那些受检查异常处理起来也力不从心。受检查异常会使得程序结构变得混乱，代码大量增加。而Kotlin把所有的异常都看做是运行期异常，编译器不会强制要求捕获或抛出任何异常，开发人员可以酌情考虑是否捕获处理异常。</p>
</li>
<li><p>对可空类型的支持<br>空指针异常是Java最为头痛的问题之一，Java数据类型可以接收空值。而Kotlin数据类型<strong>默认不能接收空值</strong>，是非空数据类型，这样保证了数据类型的安全，防止空指针异常的发生。</p>
</li>
</ol>
<h2 id="Kotlin语言特点"><a href="#Kotlin语言特点" class="headerlink" title="Kotlin语言特点"></a>Kotlin语言特点</h2><p>简洁、安全、支持函数式编程、支持面向对象、Java具有良好的互操作性、免费开源</p>
<h2 id="Kotlin应用程序运行过程"><a href="#Kotlin应用程序运行过程" class="headerlink" title="Kotlin应用程序运行过程"></a>Kotlin应用程序运行过程</h2><p>Java程序运行过程如图1-2所示，首先由Java编译器将Java源文件（<em>.java文件）编译成为字节码文件（</em>.class文件），这个过程可以通过JDK（Java开发工具包）提供的javac命令进行编译。当运行Java字节码文件时，由Java虚拟机中的解释器将字节码解释成为机器码去执行，这个过程可以通过JRE（Java运行环境）提供的java命令解释运行。<br><img src="https://upload-images.jianshu.io/upload_images/1662509-36a38306a7d97781.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h2 id="如何获得帮助"><a href="#如何获得帮助" class="headerlink" title="如何获得帮助"></a>如何获得帮助</h2><p>对于一个初学者必须要熟悉如下几个Kotlin相关网址：</p>
<ul>
<li>Kotlin源代码网址：<a href="https://github.com/JetBrains/kotlin" target="_blank" rel="noopener">https://github.com/JetBrains/kotlin</a></li>
<li>Kotlin官网：<a href="https://kotlinlang.org/" target="_blank" rel="noopener">https://kotlinlang.org/</a></li>
<li>Kotlin官方参考文档：<a href="https://kotlinlang.org/docs/reference/" target="_blank" rel="noopener">https://kotlinlang.org/docs/reference/</a></li>
<li>Kotlin标准库：<a href="https://kotlinlang.org/api/latest/jvm/stdlib/index.html" target="_blank" rel="noopener">https://kotlinlang.org/api/latest/jvm/stdlib/index.html</a></li>
</ul>
<h2 id="JDK下载和安装"><a href="#JDK下载和安装" class="headerlink" title="JDK下载和安装"></a>JDK下载和安装</h2><p><img src="https://upload-images.jianshu.io/upload_images/1662509-e715aefc4c8f68aa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<h2 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h2><p><img src="https://upload-images.jianshu.io/upload_images/1662509-33e1322d3ff7f777.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1. 设置为JAVA_HOME变量"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/1662509-e4f478bcd40250e4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2. Path下添加%JAVA_HOME%\bin"></p>
<h2 id="选择合适的IDE开发"><a href="#选择合适的IDE开发" class="headerlink" title="选择合适的IDE开发"></a>选择合适的IDE开发</h2><p>IntelliJ IDEA 和 Eclipse都可以</p>
<h2 id="也可以手动下载Kotlin编译器"><a href="#也可以手动下载Kotlin编译器" class="headerlink" title="也可以手动下载Kotlin编译器"></a>也可以手动下载Kotlin编译器</h2><p><img src="https://upload-images.jianshu.io/upload_images/1662509-da3d791203f2df2f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1. 设置KOTLIN_HOME"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/1662509-7deb4e3cde605c35.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2. Path下添加bin"></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://www.ituring.com.cn/book/tupubarticle/19716" target="_blank" rel="noopener">第 1 章　开篇综述-图灵社区</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="/html/android/2018/08/12/适配完结篇三-给定多套分辨率解决适配问题-原创.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="leiTKai">
      <meta itemprop="description" content="personal website">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ac86's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/html/android/2018/08/12/适配完结篇三-给定多套分辨率解决适配问题-原创.html" class="post-title-link" itemprop="url">适配完结篇三 - 给定多套分辨率解决适配问题(原创)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-08-12 17:15:55" itemprop="dateCreated datePublished" datetime="2018-08-12T17:15:55+08:00">2018-08-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-04 23:59:09" itemprop="dateModified" datetime="2020-03-04T23:59:09+08:00">2020-03-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/" itemprop="url" rel="index"><span itemprop="name">android</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="要点"><a href="#要点" class="headerlink" title="要点"></a>要点</h2><ul>
<li>适配还是使用百分比布局靠谱(想想match_parent其实值100%, 权重也是按比例吧)</li>
<li>如何合理建立多套dimen值</li>
</ul>
<p><img src="https://upload-images.jianshu.io/upload_images/1662509-35809cc014f75b67.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="按px进行划分真的好吗"></p>
<p>上图给的是最原始的<a href="https://blog.csdn.net/lmj623565791" target="_blank" rel="noopener">鸿洋_</a>的方案:<br>假设现在的UI设计图是按照480*320设计的，且上面的宽和高的标识都是px的值，你可以直接将px转化为x[1-320]，y[1-480]，这样写出的布局基本就可以全分辨率适配了。</p>
<h2 id="这大概会有什么问题"><a href="#这大概会有什么问题" class="headerlink" title="这大概会有什么问题"></a>这大概会有什么问题</h2><ul>
<li>首先得有很多套布局, 这无形会增加apk体积</li>
<li>很多情况下如果设备有虚拟按键, 会导致宽或者高匹配不到对于的dimens文件夹, 解决办法是根据需要再额外加几套布局</li>
</ul>
<h2 id="探索新的方法"><a href="#探索新的方法" class="headerlink" title="探索新的方法"></a>探索新的方法</h2><p>突然有一天, 我看到在官网看到了这么一个片段: <a href="https://developer.android.google.cn/guide/practices/screens_support#DeclaringTabletLayouts" target="_blank" rel="noopener">支持多种屏幕  |  Android Developers - 声明适用于 Android 3.2 的平板电脑布局</a><br>然后想能不能使用新的修饰符来实现适配. 这就需要采集手头所有设备的分辨率并dp化.</p>
<ul>
<li>640*360 (手机)</li>
<li>698*392 (手机)</li>
<li>768*480 (Pad)</li>
<li>853*533 (Pad)</li>
<li>960*600 (Pad)</li>
<li>1024*640 (Pad)</li>
<li>1024*768 (Pad)</li>
<li>1280*800 (Pad)</li>
</ul>
<p>若明确规定方向为<strong>横屏方向</strong>, 将得到<code>480,640,698,768,853,960,1024,1280</code></p>
<p>再考虑到240X320，320×480，480X800的手机</p>
<p>还需要考虑哪些因素呢, 比如得考虑平板的虚拟按键栏, 所以还得采集具体参数)</p>
<p>例如平板M2 PLE-703L 在横屏状态下为1920px = 768dp, 但是如果有了虚拟按键, 则只剩下1830px = 732dp.<br>最终得到<code>320,480,532,640,698,732,768,800,852,912,960,1024,1280</code></p>
<h2 id="选择swdp-还是-wdp修饰符"><a href="#选择swdp-还是-wdp修饰符" class="headerlink" title="选择swdp 还是 wdp修饰符"></a>选择sw<n>dp 还是 w<n>dp修饰符</n></n></h2><p> 由于sw取得是最小宽度, 而我们在开发时候肯定会指定横屏或者竖屏, 所以会选择 w<n>dp修饰符.</n></p>
<ul>
<li>针对竖屏手机, 则<code>N=320,360,392... ...</code></li>
<li>针对横屏手机, 则<code>N=640,698,768... ...</code></li>
</ul>
<p>假如以1280dp*800dp横屏为基准, 会将宽度分成了640偶数份(剔除了奇数, 觉得太多余)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 参考公式</span><br><span class="line"># 假定基准宽度为1280</span><br><span class="line">x1 = 目标宽度(dp) / 1280</span><br><span class="line">x2 = 2 * x1</span><br><span class="line">x4 = 4 * x1</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>生成文件夹形如<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ls</span><br><span class="line">values-w1024dp/  values-w320dp/  values-w640dp/  values-w768dp/  values-w852dp/</span><br><span class="line">values-w1280dp/  values-w480dp/  values-w698dp/  ... ... ...</span><br></pre></td></tr></table></figure></p>
<p>且每个文件夹下都有<code>precent_width.xml</code>文件, 以下是<code>values-w640dp</code>下的xml文件<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"x2"</span>&gt;</span>1dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"x4"</span>&gt;</span>2dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"x6"</span>&gt;</span>3dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dimen</span> <span class="attr">name</span>=<span class="string">"x8"</span>&gt;</span>4dp<span class="tag">&lt;/<span class="name">dimen</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    &lt;dimen name=&quot;x1276&quot;&gt;638dp&lt;/dimen&gt;</span><br><span class="line">    &lt;dimen name=&quot;x1278&quot;&gt;639dp&lt;/dimen&gt;</span><br><span class="line">    &lt;dimen name=&quot;x1280&quot;&gt;640dp&lt;/dimen&gt;</span><br><span class="line">&lt;/resources&gt;</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="生成工具-参考了鸿洋-的示例"><a href="#生成工具-参考了鸿洋-的示例" class="headerlink" title="生成工具(参考了鸿洋_)的示例)"></a>生成工具(参考了<a href="(https://blog.csdn.net/lmj623565791">鸿洋_</a>)的示例)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.Writer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 辅助生成资源文件</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> leiTKai</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenerateValueFiles</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String dirStr = <span class="string">"./res"</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String FILE_NAME = <span class="string">"precent_width.xml"</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TEMPLATE = <span class="string">"    &lt;dimen name=\"x%d\"&gt;%sdp&lt;/dimen&gt;\n"</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String VALUE_TEMPLATE = <span class="string">"values-w%ddp"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> mBaseWidth;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> String mSupportStr;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * constructor</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> baseX</span></span><br><span class="line"><span class="comment">	 *            基准宽</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> supportStr</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">GenerateValueFiles</span><span class="params">(<span class="keyword">int</span> baseX, String supportStr)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.mBaseWidth = baseX;</span><br><span class="line">		<span class="keyword">this</span>.mSupportStr = supportStr;</span><br><span class="line"></span><br><span class="line">		System.out.println(<span class="string">"baseW: "</span> + <span class="keyword">this</span>.mBaseWidth);</span><br><span class="line">		System.out.println(<span class="string">"supportStr: "</span> + <span class="keyword">this</span>.mSupportStr);</span><br><span class="line"></span><br><span class="line">		File dir = <span class="keyword">new</span> File(dirStr);</span><br><span class="line">		<span class="keyword">if</span> (!dir.exists())</span><br><span class="line">			dir.mkdir();</span><br><span class="line">		System.out.print(<span class="string">"FileDir: "</span> + dir.getAbsoluteFile());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">generate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (String val : mSupportStr.split(<span class="string">","</span>)) &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				generateXmlFile(Integer.parseInt(val));</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">generateXmlFile</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span> smallestWidth)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="keyword">final</span> File fileDir = <span class="keyword">new</span> File(dirStr + File.separator</span><br><span class="line">				+ String.format(VALUE_TEMPLATE, smallestWidth));</span><br><span class="line">		fileDir.mkdir();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">final</span> File file = <span class="keyword">new</span> File(fileDir, FILE_NAME);</span><br><span class="line">		Writer writer = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(</span><br><span class="line">				<span class="keyword">new</span> FileOutputStream(file), <span class="string">"UTF-8"</span>));</span><br><span class="line">		writeContent(writer, mBaseWidth, smallestWidth);</span><br><span class="line">		writer.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeContent</span><span class="params">(Writer writer, <span class="keyword">final</span> <span class="keyword">int</span> baseLength,</span></span></span><br><span class="line"><span class="function"><span class="params">			<span class="keyword">final</span> <span class="keyword">int</span> totalLength)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		writer.write(<span class="string">"&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n"</span>);</span><br><span class="line">		writer.write(<span class="string">"&lt;resources&gt;\n"</span>);</span><br><span class="line">		<span class="keyword">float</span> cell = (<span class="keyword">float</span>) totalLength / baseLength;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; baseLength; i+=<span class="number">2</span>) &#123;</span><br><span class="line">			writer.write(String.format(TEMPLATE, i, float2String(cell * i)));</span><br><span class="line">		&#125;</span><br><span class="line">		writer.write(String.format(TEMPLATE, baseLength,</span><br><span class="line">				String.valueOf(totalLength)));</span><br><span class="line">		writer.write(<span class="string">"&lt;/resources&gt;"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 如果float类型没有小数部分则不输出小数</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> f</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">float2String</span><span class="params">(<span class="keyword">float</span> f)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (Math.round(f) == f) &#123;</span><br><span class="line">			<span class="keyword">return</span> String.valueOf((<span class="keyword">int</span>) f);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> String.format(<span class="string">"%.1f"</span>, f);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> baseW = <span class="number">1280</span>;</span><br><span class="line">		String addition = <span class="string">"320,480,532,640,698,732,768,800,852,912,960,1024,1280"</span>;</span><br><span class="line">		<span class="keyword">if</span> (args.length == <span class="number">1</span>) &#123;</span><br><span class="line">			addition = args[<span class="number">0</span>];</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (args.length == <span class="number">2</span>) &#123;</span><br><span class="line">			baseW = Integer.parseInt(args[<span class="number">0</span>]);</span><br><span class="line">			addition = args[<span class="number">1</span>];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">new</span> GenerateValueFiles(baseW, addition).generate();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>规避了高度, 但同时由于忽略了高度, 设备的宽高比差异会导致某些情况<code>y</code>轴方向上的少量留白或者显示不全</li>
<li>可以大胆使用<code>x</code>系列的dimen值, 然后字体也建议大家使用<code>dp</code>, 如果你真的做了<code>sp</code>的适配, 否则<code>sp</code>和View的<code>dp</code>真的不搭.</li>
<li>需要选取以一个设备作为基板, 如1280<code>dp</code><em>800<code>dp</code>切图和布局, 如果是手机请考虑 640<code>dp</code> </em> 360<code>dp</code></li>
<li>缺点是还得穷举所有已知屏幕的宽度, 各家安卓厂商的虚拟按键宽度不一致导致可能没有对应的<code>w&lt;N&gt;dp</code>只会就近取值, 这让我不得不考虑能否在布局的时候就能指定dimen值的百分比, 期待下篇文章吧</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://blog.csdn.net/lmj623565791/article/details/45460089" target="_blank" rel="noopener">Android 屏幕适配方案 - CSDN博客</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">leiTKai</p>
  <div class="site-description" itemprop="description">personal website</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">36</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">leiTKai</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>



  















  

  

</body>
</html>
